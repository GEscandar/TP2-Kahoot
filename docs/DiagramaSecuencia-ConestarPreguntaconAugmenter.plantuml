
@startuml

actor User
title Diagrama Secuencia TP2 - Jugador contesta una pregunta con augmenter
hide footbox

participant "augmenter : ScoreAugmenter" as augmenter
participant "player : Player" as player

User -> augmenter ** : new ScoreAugmenter\n("multiplicarX2")
User -> player ** : new Player("Jugador1")

participant "match : MatchR" as match

User -> player : answerQuestionwithAugmenter\n(selectedOptionsPlayerN, augmenter)
player -> match **: new MatchResult(jugadorN, \nselectedOptionsPlayerN)
player -> User : matchRN

User -> ScoreCalculator : calculateAndAssignPoints(match, match2, question)
activate ScoreCalculator


participant "newScore : Score" as puntaje
ScoreCalculator -> Question : calculatePoints
activate Question
Question --> ScoreCalculator : newScore
deactivate Question

ScoreCalculator -> puntaje **: new Score(newScore)

ScoreCalculator -> ScoreCalculator : checkAugmenters(match, \nscorePlayer1, scorePlayer2)
activate ScoreCalculator
ScoreCalculator -> match : calculateForScoreAugmenter\n(scorePlayer1, scorePlayer2)
activate match
match -> augmenter : applyScoreAugmenter\n(playerScore, opponentScore)
deactivate match
deactivate ScoreCalculator

ScoreCalculator -> match : getPlayer()
activate match
match -> player : getScore()
activate player
player -> player : sumScore(newScore)
deactivate player
deactivate match


deactivate ScoreCalculator

@enduml
